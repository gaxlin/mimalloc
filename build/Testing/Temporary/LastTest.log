Start testing: Jul 05 20:46 CST
----------------------------------------------------------
1/2 Testing: test_api,
1/2 Test: test_api,
Command: "/Users/aligame/Desktop/wcode/mimalloc/build/Debug/mimalloc-test-api"
Directory: /Users/aligame/Desktop/wcode/mimalloc/build
"test_api," start time: Jul 05 20:46 CST
Output:
----------------------------------------------------------
test: malloc-zero...  ok.
test: malloc-nomem1...  mimalloc: warning: unable to allocate OS memory (9223372036863164416 bytes, error code: 12, address: 0x0, large only: 0, allow large: 1)
mimalloc: warning: unable to allocate OS memory (9223372036863164416 bytes, error code: 12, address: 0x0, large only: 0, allow large: 1)
mimalloc: error: unable to allocate memory (9223372036854775807 bytes)
ok.
test: malloc-null...  ok.
test: calloc-overflow...  mimalloc: error: allocation request is too large (4403613648 * 18446744073709551 bytes)
ok.
test: calloc0...  ok.
test: posix_memalign1...  ok.
test: posix_memalign_no_align...  ok.
test: posix_memalign_zero...  ok.
test: posix_memalign_nopow2...  ok.
test: posix_memalign_nomem...  mimalloc: error: allocation request is too large (18446744073709551615 bytes)
mimalloc: error: allocation request is too large (18446744073709551615 bytes)
mimalloc: error: unable to allocate memory (18446744073709551615 bytes)
ok.
test: malloc-aligned1...  ok.
test: malloc-aligned2...  ok.
test: malloc-aligned3...  ok.
test: malloc-aligned4...  ok.
test: malloc-aligned5...  ok.
test: malloc-aligned-at1...  ok.
test: malloc-aligned-at2...  ok.
test: memalign1...  ok.
test: heap_destroy...  ok.
test: heap_delete...  ok.
test: realpath...  ok.
test: stl_allocator1...  ok.
test: stl_allocator2...  ok.


---------------------------------------------
succeeded: 23
failed   : 0

<end of output>
Test time =   0.01 sec
----------------------------------------------------------
Test Passed.
"test_api," end time: Jul 05 20:46 CST
"test_api," time elapsed: 00:00:00
----------------------------------------------------------

2/2 Testing: test_stress,
2/2 Test: test_stress,
Command: "/Users/aligame/Desktop/wcode/mimalloc/build/Debug/mimalloc-test-stress"
Directory: /Users/aligame/Desktop/wcode/mimalloc/build
"test_stress," start time: Jul 05 20:46 CST
Output:
----------------------------------------------------------
heap stats:     peak      total      freed    current       unit      count  
normal   1:     9.6 mb    14.6 mb    14.6 mb       0 b        8 b      1.9 m   ok
normal   4:    38.5 mb    57.9 mb    57.9 mb       0 b       32 b      1.8 m   ok
normal   6:    58.1 mb    87.7 mb    87.7 mb       0 b       48 b      1.9 m   ok
normal   9:    96.7 mb   146.1 mb   146.1 mb       0 b       80 b      1.9 m   ok
normal  13:   192.6 mb   291.6 mb   291.6 mb       0 b      160 b      1.9 m   ok
normal  17:   155.5 mb   155.5 mb   155.5 mb       0 b      320 b    509.8 k   ok
normal  21:   307.2 mb   307.2 mb   307.2 mb       0 b      640 b    503.4 k   ok
normal  23:    19.0 mb    28.1 mb    28.1 mb       0 b      896 b     32.9 k   ok
normal  27:    39.6 mb    58.7 mb    58.7 mb       0 b      1.7 kb    34.3 k   ok
normal  31:    87.4 mb   128.1 mb   128.1 mb       0 b      3.5 kb    37.5 k   ok
normal  32:   803.1 kb   803.1 kb   803.1 kb       0 b      4.0 kb     200     ok
normal  35:   155.1 mb   230.3 mb   230.3 mb       0 b      7.0 kb    33.7 k   ok
normal  36:    25.6 mb    31.2 mb    31.2 mb       0 b      8.0 kb     4.0 k   ok
normal  38:     2.3 mb     2.3 mb     2.3 mb       0 b     12.0 kb     200     ok
normal  39:   301.5 mb   460.0 mb   460.0 mb       0 b     14.0 kb    33.6 k   ok
normal  40:    63.7 mb    78.1 mb    78.1 mb       0 b     16.0 kb     5.0 k   ok
normal  41:     3.9 mb     3.9 mb     3.9 mb    20.0 kb    20.0 kb     201     not all freed!
normal  42:     4.6 mb     4.6 mb     4.6 mb       0 b     24.0 kb     200     ok
normal  43:   241.9 mb   241.9 mb   241.9 mb       0 b     28.1 kb     8.8 k   ok
normal  44:    97.3 mb   129.6 mb   129.6 mb       0 b     32.1 kb     4.1 k   ok
normal  47:   546.8 mb   546.8 mb   546.8 mb       0 b     56.2 kb    10.0 k   ok
normal  48:   218.1 mb   271.8 mb   271.8 mb       0 b     64.2 kb     4.3 k   ok
normal  49:    69.9 mb    74.2 mb    74.2 mb       0 b     80.3 kb     950     ok
normal  52:   440.2 mb   575.0 mb   575.0 mb       0 b    128.5 kb     4.6 k   ok
normal  53:    93.4 mb   101.5 mb   101.5 mb       0 b    160.6 kb     650     ok
normal  56:   312.5 mb   312.5 mb   312.5 mb       0 b    257.0 kb     1.2 k   ok
normal  57:   296.8 mb   328.1 mb   328.1 mb       0 b    321.2 kb     1.0 k   ok
normal  60:   450.0 mb   450.0 mb   450.0 mb       0 b    514.0 kb     900     ok
normal  61:   488.7 mb   562.5 mb   562.5 mb       0 b    642.5 kb     900     ok
normal  63:     1.3 gb     1.3 gb     1.3 gb       0 b    899.5 kb     1.6 k   ok
normal  65:     1.3 gb     1.5 gb     1.5 gb       0 b      1.2 mb     1.2 k   ok

heap stats:     peak      total      freed    current       unit      count  
    normal:     6.9 g      8.3 g      8.3 g     20.0 k      832 b     10.8 m   not all freed!
      huge:     1.3 g      1.3 g      1.3 g        0        3.4 mb     400     ok
     giant:       0 b        0 b        0 b        0 b        1 b              ok
     total:     8.3 gb     9.7 gb     9.7 gb    20.0 kb       1 b              not all freed!
malloc req:     7.7 gb     9.0 gb     9.0 gb    16.0 kb       1 b              not all freed!

  reserved:     1.0 gb     1.0 gb   780.5 mb   256.0 mb       1 b              not all freed!
 committed:  1006.4 mb  1022.7 mb   524.5 mb   498.2 mb       1 b              not all freed!
     reset:       0 b        0 b        0 b        0 b        1 b              ok
   touched:     8.0 gb     8.8 gb     8.8 gb    -8.4 mb       1 b              ok
  segments:    10.7 k     12.7 k     12.7 k        1                           not all freed!
-abandoned:     1.0 k      3.3 k      3.3 k        0                           ok
   -cached:       0          0          0          0                           ok
     pages:    40.4 k     49.2 k     49.2 k        1                           not all freed!
-abandoned:     7.4 k     17.8 k     17.8 k        0                           ok
 -extended:   335.1 k 
 -noretire:    32.2 k 
     mmaps:     1.5 k 
   commits:     643   
   threads:      23        1.5 k      3.1 k     -1.5 k                         ok
  searches:     0.9 avg
numa nodes:       1
   elapsed:       4.030 s
   process: user: 28.919 s, system: 0.596 s, faults: 0, rss: 521.7 mb, commit: 1006.4 mb
Using 32 threads with a 10% load-per-thread and 50 iterations
- iterations left:  40
- iterations left:  30
- iterations left:  20
- iterations left:  10
- iterations left:   0
<end of output>
Test time =   4.05 sec
----------------------------------------------------------
Test Passed.
"test_stress," end time: Jul 05 20:46 CST
"test_stress," time elapsed: 00:00:04
----------------------------------------------------------

End testing: Jul 05 20:46 CST
